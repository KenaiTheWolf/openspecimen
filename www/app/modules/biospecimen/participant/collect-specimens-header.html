<div os-page-header>
  <div class="os-page-header-content" ng-switch on="!!fieldsCtx.headers.visit.breadcrumb && cpr.id > 0">
    <os-html-template ng-switch-when="true" template="fieldsCtx.headers.visit.breadcrumb"></os-html-template>

    <ul ng-switch-when="false" os-breadcrumbs>
      <li>
        <a ui-sref="cp-list-view({cpId: cpr.cpId})">
          <span>{{cpr.cpShortTitle}}</span>
        </a> 
      </li>
      <li ng-if="!cp.specimenCentric && cpr.id > 0">
        <a ui-sref="participant-detail.overview({cpId: cp.id, cprId: cpr.id})">
          <span>{{cpr.ppid}}</span>
        </a>
      </li>
      <li ng-if="!cp.specimenCentric && cpr.id > 0">
        <a ui-sref="participant-detail.visits({visitId: visit.id, eventId: visit.eventId})">
          <span translate="visits.list">Visits</span>
        </a>
      </li>
    </ul>

    <h3>
      <span>Specimen Collection</span>
      <span ng-if="cpr.id > 0">
        <span ng-switch on="!!fieldsCtx.headers.visit.leftTitle">
          <span ng-switch-when="true">
            <span>:</span>
            <os-html-template template="fieldsCtx.headers.visit.leftTitle"></os-html-template>
          </span>
          <span ng-switch-default>
            <span ng-if="!cp.specimenCentric">
              <span>:</span>
              <os-event-desc event-point="visit.eventPoint" event-point-unit="visit.eventPointUnit"
                event-label="visit.eventLabel">
              </os-event-desc>
            </span>
          </span>
        </span>
      </span>
    </h3>
  </div>

  <div class="os-page-header-actions">
    <h3 ng-if="!!fieldsCtx.headers.visit.rightTitle && cpr.id > 0">
      <os-html-template template="fieldsCtx.headers.visit.rightTitle"></os-html-template>
    </h3>
  </div>
</div>
